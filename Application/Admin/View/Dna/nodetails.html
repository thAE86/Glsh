

<extend name="Public/base"  />
<block name="main">
    <style type="text/css">
        div{
            width:100%;
        }
    </style>

<div>
    <h1>内容编辑</h1>
    <script id="editor" type="text/plain" style="width:1024px;height:500px;">{$data['content']}</script>
    <input type="hidden" id="id" value="{$data['id']}">
</div>
<div id="btns" style="margin-top:20px;">
    <div>
        <button  class="btn btn-sm btn-default" id="getcontent">编辑</button>
    </div>
</div>

<script type="text/javascript">

    //实例化编辑器
    //建议使用工厂方法getEditor创建和引用编辑器实例，如果在某个闭包下引用该编辑器，直接调用UE.getEditor('editor')就能拿到相关的实例
    var ue = UE.getEditor('editor');

    $('#getcontent').click(function(){
        var content=UE.getEditor('editor').getContent();
        var id=$('#id').val();
        $.post("{:U('Dna/noconup')}",{content:content,id:id},function(result){
        if(result == '1'){
          alert('编辑成功');
          location.href="{:U('Dna/notice')}";
        }
      });


    })

</script>
</block>